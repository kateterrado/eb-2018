<!DOCTYPE html>
<html lang="en">
<head>

  <!-- Basic Page Needs
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta charset="utf-8">
  <title>The Margins-Article</title>
  <meta name="description" content="">
  <meta name="author" content="">

  <!-- Mobile Specific Metas
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta name="viewport" content="width=device-width, initial-scale=1">


  <!-- FONT
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">

  <!-- CSS
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/skeleton.css">
 <link rel="stylesheet" href="css/EastBoston_styles.css">


  <!-- Favicon
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="icon" type="image/png" href="images/favicon.png">

  <script src='lib/crossfilter.js' defer></script>
  <script src='lib/d3.js'></script>
  <!-- <script src='modules/mapRoutes.js' defer></script>
  <script src='modules/barChart.js' defer></script> -->
  <script src='data/boston_rodents.json'></script>
  <script src='data/boston_neighborhoods.json'></script>
  <script src='https://d3js.org/topojson.v1.min.js'></script>


</head>
<body>

<!-- Hamburger menu
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <nav role="navigation" class="EastBoston_nav" >
  <div id="menuToggle">
    <!--
    A fake / hidden checkbox is used as click reciever,
    so you can use the :checked selector on it.
    -->
    <input type="checkbox" />

    <!--
    Some spans to act as a hamburger.
    -->
    <span></span>
    <span></span>
    <span></span>

    <ul id="menu">
        <a href="#" ><li style="font-size:4rem">Article 1</li></a>
        <a href="#"><li style="font-size:4rem">Article 2</li></a>
        <a href="#"><li style="font-size:4rem">Article 3</li></a>
        <a href="#"><li style="font-size:4rem">Article 4</li></a>
        <a href="#"><li style="font-size:4rem">Article 5</li></a>
        <a href="#"><li style="font-size:4rem">Article 6</li></a>

    </ul>
  </div>
</nav>

  <!-- Primary Page Layout
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <div class="container">
    <div class="row">
      <div class="column EastBoston">
        <h1 class="EastBoston_head">Ebbs & Flows of East Boston</h1>

          <p>Cities and towns are not closed economic systems. Workers who live in one town may work in a neighboring town or travel
            long distances to find employment. Jobs in East Boston are filled by a combination of residents and commuters. This daily
            ebb and flow impacts issues from housing to transportation.<br>

          </p>
          <h5 class="EastBoston_byline">By Kate Terrado</h5>

          <!-- <div class='plot' id='plot-1'>
            <svg width="960" height="600"></svg>
          </div> -->


<hr>


<div id='container' class='container-1'>
  <div id='graph'></div>
  <div id='sections'>
    <div>
      <h2 class="EastBoston_head">Subhead</h2>
      <span class='mono'>Lorem</span> ipsum dolor sit amet, consectetur adipiscing elit. Etiam rutrum tempor ipsum eu pulvinar. Vestibulum pellentesque euismod finibus. Nullam et mollis dolor, nec aliquet risus. Ut non convallis turpis, quis rhoncus justo. Donec dignissim a massa vitae aliquam. Quisque rutrum nisi leo, vel semper risus luctus non. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Vivamus tincidunt eget eros eget ultricies. Vestibulum laoreet nec nisi in vestibulum. Maecenas dapibus nisi ut posuere eleifend. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.

  </div>
<p><p><p><p>
    <div>
      <h2 class="EastBoston_head">Subhead</h2>
      <span class='mono'>Lorem</span> ipsum dolor sit amet, consectetur adipiscing elit. Etiam rutrum tempor ipsum eu pulvinar. Vestibulum pellentesque euismod finibus. Nullam et mollis dolor, nec aliquet risus. Ut non convallis turpis, quis rhoncus justo. Donec dignissim a massa vitae aliquam. Quisque rutrum nisi leo, vel semper risus luctus non. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Vivamus tincidunt eget eros eget ultricies. Vestibulum laoreet nec nisi in vestibulum. Maecenas dapibus nisi ut posuere eleifend. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.

    </div>

<p><p><p><p>
    <div>
      <h2 class="EastBoston_head">Subhead</h2>
      <span class='mono'>Lorem</span> ipsum dolor sit amet, consectetur adipiscing elit. Etiam rutrum tempor ipsum eu pulvinar. Vestibulum pellentesque euismod finibus. Nullam et mollis dolor, nec aliquet risus. Ut non convallis turpis, quis rhoncus justo. Donec dignissim a massa vitae aliquam. Quisque rutrum nisi leo, vel semper risus luctus non. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Vivamus tincidunt eget eros eget ultricies. Vestibulum laoreet nec nisi in vestibulum. Maecenas dapibus nisi ut posuere eleifend. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.

    </div>
<p><p><p><p>
    <div>
      <h2 class="EastBoston_head">Subhead</h2>
      <span class='mono'>Lorem</span> ipsum dolor sit amet, consectetur adipiscing elit. Etiam rutrum tempor ipsum eu pulvinar. Vestibulum pellentesque euismod finibus. Nullam et mollis dolor, nec aliquet risus. Ut non convallis turpis, quis rhoncus justo. Donec dignissim a massa vitae aliquam. Quisque rutrum nisi leo, vel semper risus luctus non. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Vivamus tincidunt eget eros eget ultricies. Vestibulum laoreet nec nisi in vestibulum. Maecenas dapibus nisi ut posuere eleifend. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.

    </div>

  </div>

</div>

<p><p><p><p>

<div id='container' class='container-2'>
  <div id='graph'></div>

  <div id='sections'>
    <div>
      <h2 class="EastBoston_head">Data Source</h2>
      <span class='mono'>The</span> CTPP data product based on 2006 – 2010 5-year American Community Survey (ACS) Data is designed to help transportation analysts and planners understand where people are commuting to and from, and how they get there. The information is organized by where workers live, where they work, and by the flow between those places.
    </div>


  </div>


</div>



<script src="lib/d3v4+jetpack.js"></script>
<script src="lib/graph-scroll.js"></script>
<script>

var oldWidth = 0
function render(){
  if (oldWidth == innerWidth) return
  oldWidth = innerWidth

  var width = height = d3.select('#graph').node().offsetWidth
  var r = 40


  if (innerWidth <= 925){
    width = innerWidth
    height = innerHeight*.7
  }

  // return console.log(width, height)

  // var width = 960;
  // var height = 600;

  var svg = d3.select('#graph').html('')
    .append('svg')
    .attr( "width", width )
    .attr( "height", height );

  var g = svg.append( "g" );

  var gs = d3.graphScroll()
      .container(d3.select('.container-1'))
      .graph(d3.selectAll('container-1 #graph'))
      .eventId('uniqueId1')  // namespace for scroll and resize events
      .sections(d3.selectAll('.container-1 #sections > div'))
      // .offset(innerWidth < 900 ? innerHeight - 30 : 200)
      .on('active', function(i){
        var albersProjection = d3.geoAlbers()
            .scale( 190000 )
            .rotate( [71.057,0] )
            .center( [0, 42.313] )
            .translate( [width/2,height/2] );

        var geoPath = d3.geoPath()
            .projection( albersProjection );

        g.selectAll( "path" )
            .data( neighborhoods_json.features )
            .enter()
            .append( "path" )
            .attr( "fill", "#EDEDED" )
            .attr( "stroke", "#BFBFBF")
            .attr( "stroke-width", ".25")
            .attr( "d", geoPath );
      })


  var svg2 = d3.select('.container-2 #graph').html('')
    .append('svg')
    .attr( "width", width )
    .attr( "height", height );

  var path = svg2.append('path')

  var gs2 = d3.graphScroll()
      .container(d3.select('.container-2'))
      .graph(d3.selectAll('.container-2 #graph'))
      .eventId('uniqueId2')  // namespace for scroll and resize events
      .sections(d3.selectAll('.container-2 #sections > div'))
      .on('active', function(i){
        var albersProjection = d3.geoAlbers()
            .scale( 190000 )
            .rotate( [71.057,0] )
            .center( [0, 42.313] )
            .translate( [width/2,height/2] );
        //
        var geoPath = d3.geoPath()
            .projection( albersProjection );
        //
        // g.selectAll( "path" )
        //     .data( neighborhoods_json.features )
        //     .enter()
        //     .append( "path" )
        //     .attr( "fill", "#EDEDED" )
        //     .attr( "stroke", "#BFBFBF")
        //     .attr( "stroke-width", ".25")
        //     .attr( "d", geoPath )
        //     .style("opacity", .25);
        //
        //     let voronoi = d3.voronoi()
        //         .extent([[-1, -1], [width + 1, height + 1]]);


            var rodents = svg.append( "g" );

                rodents.selectAll( "path" )
                    .data( rodents_json.features )
                    .enter()
                    .append( "path" )
                    .attr( "fill", "#BFBFBF" )
                    .attr( "stroke", "#FFFFFF" )
                    .attr( "d", geoPath )
                    .attr("class","incident");
                    // .on("mouseover", function(d){
                    //     d3.select("h2").text(d.properties.LOCATION_STREET_NAME);
                    //     d3.select(this).attr("class","incident hover");
                    // })
                    // .on("mouseout", function(d){
                    //     d3.select("h2").text("");
                    //     d3.select(this).attr("class","incident");
                    // });

                    path.transition().duration(1000);


      })

  d3.select('#source')
      .styles({'margin-bottom': window.innerHeight - 450 + 'px', padding: '100px'})
}
render()
d3.select(window).on('resize', render)






</script>





            <!-- <div id='charts'>
              <div id='hour-chart' class='chart'>
                <div class='title'>Time of Day</div>
              </div>
              <div id='delay-chart' class='chart'>
                <div class='title'>Arrival Performance (min.)</div>
              </div>
              <div id='distance-chart' class='chart'>
                <div class='title'>Distance (mi.)</div>
              </div>
              <div id='date-chart' class='chart'>
                <div class='title'>Date</div>
              </div>
            </div>
            <aside id='totals'><span id='active'>-</span> of <span id='total'>-</span> flights selected.</aside>
            <div id='lists'>
              <div id='flight-list' class='list'></div>
            </div> -->

<p><p><p><p>

        <h2 class="EastBoston_head">5.1% walk or bike<br>
57.8% take public transportation<br>
34.4% use a car, truck, or van<br>
2.7% other or work from home<br>
</h2>




      </div>
  </div>
</div>

<h6 class="EastBoston_footer"><span class="EastBoston_footer">Visualizing Eastie</span> is a project of the <a href="https://www.northeastern.edu/visualization/">Information Design and Visualization program</a> at Northeastern University. © 2018</h6>

<!-- End Document
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
</body>
</html>
